# File: Example-RecoFromGenPythia.cf
# Author: R. Cavanaugh
# Date: 06.11.2006
#

process R  = {

   include "Configuration/ReleaseValidation/data/Services.cfi"
   include "FWCore/MessageLogger/data/MessageLogger.cfi"
   include "SimG4Core/Application/data/SimG4Object.cfi"
   include "Configuration/JetMET/data/calorimetry-digitization.cff"
   include "Configuration/EventContent/data/FEVTOutput.cff"
   include "RecoMET/METProducers/data/GenMET.cfi"
   include "RecoMET/METProducers/test/CaloCandidatesFromDigis.cfi"
   include "RecoMET/METProducers/data/CaloMET.cfi"

   include "RecoMET/METProducers/test/GenPythia-QCD_dijets_0_15.cff"
   replace PythiaSource.maxEvents = 2

   es_module = TrackerGeometricDetESModule {}

   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 135799753
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 123456789
      }
   }

   untracked PSet options = 
   {
      untracked bool makeTriggerResults = false
      vstring listOfTriggers = {}
   }

   module GEN-SIM-DIGI-RECO = PoolOutputModule
   { 
      untracked string fileName = "Example-RecoMET.root"
      untracked uint32 commitInterval = 10
      #using FEVTOutput
      untracked vstring outputCommands = 
      {
         "keep *"
#         "drop *",
#         "keep *_caloTowers_*_*",
#         "keep recoCaloMETs_*_*_*",
#         "keep recoGenMETs_*_*_*"
      }
   }

   path p1   = { generator, g4SimHits }
   path p2   = { caloDigi }
   path p3   = { genCandidatesForMET, genMet, caloCandidatesForMET, met }
   endpath e = { GEN-SIM-DIGI-RECO }
   schedule  = { p1, p2, p3, e }	
}

